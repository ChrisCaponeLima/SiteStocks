// /pages/admin/users.vue - V1.2 - REFACTOR: Remo√ß√£o da checagem redundante de n√≠vel, confiando no middleware 'auth-level1'.

<script setup lang="ts">
import { useAuthStore } from '~/stores/auth' // Mantido apenas para refer√™ncia/futuro uso, mas n√£o usado diretamente para checagem.

// üîë Aplica o middleware de prote√ß√£o N√≠vel 1 (auth-level1)
// O middleware deve garantir que o usu√°rio tenha roleLevel >= 1 ou redirecionar para /login.
definePageMeta({
middleware: ['auth-level1'], 
layout: 'admin', // Assumindo que voc√™ tem um layout 'admin'
title: 'Manuten√ß√£o de Usu√°rios'
})

// N√£o √© necess√°rio executar a l√≥gica de checagem de n√≠vel aqui.
// A p√°gina est√° protegida pela diretiva definePageMeta.

// IMPORTANTE: Se o erro 403 persistir, o problema est√° no middleware (auth-level1)
// ou na inje√ß√£o do token/roleLevel no lado do cliente/servidor.
</script>

<template>
  <Header pageTitle="Manuten√ß√£o de Usu√°rios" />
 
<div class="page-container">
    <AdminUserListTable />
</div>
</template>

<style scoped>
/* Adicione estilos espec√≠ficos para o container da p√°gina, se necess√°rio */
.page-container {
 padding: 20px;
}
</style>